<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        table {
        border-collapse: collapse;
    }

    td, th {
        border: 1px black solid;
        padding: 10px
    }

    input {
        display: block;
        margin-bottom: 10px;
    }
    </style>
</head>
<table>
    <tr>
        <th>наименование</th>
        <th>цена</th>
        <th>количество</th>
        <th>общая стоимость</th>
    </tr>
</table>
<br>
<div>Общая сумма</div>
<p></p>
<div id="container">
    <input placeholder="наименование" type="text" id="name" autocomplete="off">
    <input placeholder="цена" type="number" id="price" autocomplete="off">
    <input placeholder="количество" type="number" id="quantity">
</div>
<button>add product</button>

<body>
    <script>
    "use strict";

    const p = document.querySelector("p");
    const table = document.querySelector("table");
    const btn = document.querySelector("button");

    const container = document.querySelector("#container");
    let totalProductsTableSum = 0;

    const obj = function() {
        const arr = [];
        const map = new Map;
        const children = container.children;
        for (let i = 0; i < children.length; i++) {
            map.set(children[i].id, children[i].value);
            map.set("clear", "удалить");
        }
        arr.push(map);
        return arr;
    };

    btn.addEventListener("click", function createProductsTable(data) {

        data = obj();
        for (let staff of data) {
            let row = document.createElement("tr");
            table.appendChild(row);

            let name = staff.get("name");
            let price = staff.get("price");
            let quantity = staff.get("quantity");
            let clear = staff.get("clear");

            createCell(name, row);
            createCell(price, row);
            createCell(quantity, row);

            let sum = quantity * price;
            createCell(sum, row, "js_sum");
            createCell(clear, row, "js_clear");

        }
    });

    function getTotalsum(table) {
        const amounts = table.querySelectorAll(".js_sum");
        let sum = 0;
        for(let el of amounts) {
            sum += +el.innerHTML;
        }
        return sum;
    }

    function createCell(text, parent, className) {
        let cell = document.createElement("td");
        cell.innerHTML = text;
        parent.appendChild(cell);
        if (className && className != undefined) {
            cell.classList.add(className);
            p.innerHTML = getTotalsum(table);
            initDelBtn(parent);
        }
    }

    function initDelBtn(parent) {
        parent.addEventListener("click", function(event) {
            if (event.target.classList.contains("js_clear")) {
                parent.parentNode.removeChild(parent);
            }
        });
    }
    </script>
</body>

</html>